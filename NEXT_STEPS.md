# ุงูุฎุทูุงุช ุงูุชุงููุฉ ูุชุทุจูู ุงูุชุนุฏููุงุช

## 1. ูุจู ุงูุจุฏุก

### ุงูุชุญูู ูู ุงูุจูุฆุฉ
- ุชุฃูุฏ ูู ุฃู Node.js ูุซุจุช
- ุชุฃูุฏ ูู ุฃู PostgreSQL ูุนูู
- ุชุฃูุฏ ูู ูุฌูุฏ ููู `.env` ุจุงูุฅุนุฏุงุฏุงุช ุงูุตุญูุญุฉ

### ุงููููุงุช ุงููููุฉ ุงูููุดุฃุฉ
1. `DELIVERY_FEE_MANAGEMENT_GUIDE.md` - ุฏููู ุงุณุชุฎุฏุงู ููุญุฉ ุงูุชุญูู
2. `TECHNICAL_INTEGRATION_GUIDE.md` - ุฏููู ุชููู ุดุงูู
3. `CHANGES_SUMMARY.md` - ููุฎุต ุงูุชุนุฏููุงุช
4. `drizzle/0003_delivery_fee_tables.sql` - migration ุฌุฏูุฏ

---

## 2. ุฎุทูุงุช ุงูุชุซุจูุช ูุงูุชุดุบูู

### ุงูุฎุทูุฉ 1: ุชุซุจูุช Dependencies
```bash
cd c:\Users\DZ\Downloads\sitesture1-main
npm install
```
**ุงูููุช ุงููุชููุน:** 5-10 ุฏูุงุฆู

### ุงูุฎุทูุฉ 2: ุชุดุบูู Migration ุงูุฌุฏูุฏ
```bash
npm run db:push
```
ูุฐุง ุณููุดุฆ ุงูุฌุฏุงูู ุงูุฌุฏูุฏุฉ ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช:
- `delivery_fee_settings`
- `delivery_zones`
- `geo_zones`
- `delivery_rules`
- `delivery_discounts`

### ุงูุฎุทูุฉ 3: ุงูุชุญูู ูู TypeScript
```bash
npm run check
```
ุชุฃูุฏ ูู ุนุฏู ูุฌูุฏ ุฃุฎุทุงุก

### ุงูุฎุทูุฉ 4: ุจูุงุก ุงููุดุฑูุน
```bash
npm run build
```

### ุงูุฎุทูุฉ 5: ุชุดุบูู ุงููุดุฑูุน
```bash
npm run dev
```
ุงูุขู ุงููุดุฑูุน ูุนูู ูู ูุถุน ุงูุชุทููุฑ

---

## 3. ุงูุงุฎุชุจุงุฑ ุงูุฃุณุงุณู (15 ุฏูููุฉ)

### ุงุฎุชุจุงุฑ 1: ูุชุญ ููุญุฉ ุงูุชุญูู
1. ุงูุชุญ ุงููุชุตูุญ: `http://localhost:3000/admin`
2. ุชุณุฌูู ุงูุฏุฎูู
3. ุงุฐูุจ ูู "ุฅุฏุงุฑุฉ ุฑุณูู ุงูุชูุตูู"

### ุงุฎุชุจุงุฑ 2: ุชุนููู ุงูุฅุนุฏุงุฏุงุช ุงูุฃุณุงุณูุฉ
1. ูู ุชุจููุจ "ุงูุฅุนุฏุงุฏุงุช ุงูุนุงูุฉ":
   - ููุน ุงูุญุณุงุจ: **per_km**
   - ุงูุฑุณูู ุงูุฃุณุงุณูุฉ: **5**
   - ุฑุณูู ููู ูู: **2**
   - ุงูุญุฏ ุงูุฃุฏูู: **3**
   - ุงูุญุฏ ุงูุฃูุตู: **50**
   - ุญุฏ ุงูุชูุตูู ุงููุฌุงูู: **0** (ูุนุทู)

2. ุญุฏุฏ ูููุน ุงููุชุฌุฑ ุนูู ุงูุฎุฑูุทุฉ

3. ุงุถุบุท "ุญูุธ ุงูุฅุนุฏุงุฏุงุช"
   - **ุงููุชูุฌุฉ ุงููุชููุนุฉ:** "ุชู ุญูุธ ุงูุฅุนุฏุงุฏุงุช ุจูุฌุงุญ"

### ุงุฎุชุจุงุฑ 3: ุงุฎุชุจุงุฑ ุงูุญุณุงุจ ูู ุชุทุจูู ุงูุนููู
1. ุงูุชุญ ุชุทุจูู ุงูุนููู: `http://localhost:3000`
2. ุฃุถู ุนูุตุฑ ูู ูุทุนู
3. ุงุฐูุจ ููุณูุฉ
4. ุงุฎุชุฑ ูููุน ุชูุตูู ุนูู ุงูุฎุฑูุทุฉ
5. **ุงููุชูุฌุฉ ุงููุชููุนุฉ:** ูุฌุจ ุฃู ุชุธูุฑ ุฑุณูู ุงูุชูุตูู (ููุณ 0.00)

**ุงูุญุณุงุจ ุงููุชููุน:**
- ุฅุฐุง ูุงูุช ุงููุณุงูุฉ 5 ูู
- ุงูุฑุณูู = 5 + (5 ร 2) = 15 ุฑูุงู

### ุงุฎุชุจุงุฑ 4: ุฅุถุงูุฉ ููุทูุฉ ุฌุบุฑุงููุฉ
1. ูู ุชุจููุจ "ุงูููุงุทู ุงูุฌุบุฑุงููุฉ":
   - ุงุณู: "ูุณุท ุงููุฏููุฉ"
   - ุงูุฅุญุฏุงุซูุงุช:
   ```json
   [
     {"lat": 24.7130, "lng": 46.6730},
     {"lat": 24.7150, "lng": 46.6750},
     {"lat": 24.7140, "lng": 46.6770}
   ]
   ```

2. ุงุถุบุท "ุญูุธ"
   - **ุงููุชูุฌุฉ ุงููุชููุนุฉ:** ุชุธูุฑ ุงูููุทูุฉ ูู ุงููุงุฆูุฉ

### ุงุฎุชุจุงุฑ 5: ุฅุถุงูุฉ ูุงุนุฏุฉ ุฏููุงููููุฉ
1. ูู ุชุจููุจ "ุงูููุงุนุณ ุงูุฏููุงููููุฉ":
   - ุงุณู: "ููุงุทู ูุณุท ุงููุฏููุฉ"
   - ููุน: "ุญุณุจ ุงูููุทูุฉ ุงูุฌุบุฑุงููุฉ"
   - ุงูููุทูุฉ: ุงุฎุชุฑ "ูุณุท ุงููุฏููุฉ"
   - ุงูุฑุณูู: 25 ุฑูุงู

2. ุงุถุบุท "ุญูุธ"
   - **ุงููุชูุฌุฉ ุงููุชููุนุฉ:** ุชุธูุฑ ุงููุงุนุฏุฉ ูู ุงููุงุฆูุฉ

---

## 4. ุงูุงุฎุชุจุงุฑุงุช ุงููุชูุฏูุฉ (30 ุฏูููุฉ)

### ุงุฎุชุจุงุฑ 6: ุฎุตููุงุช ุงูุชูุตูู
1. ูู ุชุจููุจ "ุงูุฎุตููุงุช":
   - ุงุณู: "ุชูุตูู ูุฌุงูู ููุทูุจุงุช ููู 200 ุฑูุงู"
   - ููุน: ูุณุจุฉ ูุฆููุฉ
   - ุงููููุฉ: 100
   - ุงูุญุฏ ุงูุฃุฏูู: 200

2. ุงุถุบุท "ุญูุธ"

3. ุงุฎุชุจุฑ ูู ุชุทุจูู ุงูุนููู:
   - ุงุฌุนู ูููุฉ ุงูุทูุจ > 200 ุฑูุงู
   - ุงูุฑุณูู ูุฌุจ ุฃู ุชููู 0

### ุงุฎุชุจุงุฑ 7: ุงูููุงุทู ุญุณุจ ุงููุณุงูุฉ
1. ูู ุชุจููุจ "ููุงุทู ุงููุณุงูุงุช":
   - ุงูููุทูุฉ 1: ูู 0-5 ูู = 10 ุฑูุงู
   - ุงูููุทูุฉ 2: ูู 5-10 ูู = 20 ุฑูุงู
   - ุงูููุทูุฉ 3: ูู 10-20 ูู = 35 ุฑูุงู

2. ุงุฎุชุจุฑ ูู ุชุทุจูู ุงูุนููู ุจูุณุงูุงุช ูุฎุชููุฉ

### ุงุฎุชุจุงุฑ 8: ุนุฑุถ ุงูุทูุจ ูู ุชุทุจูู ุงูุณุงุฆู
1. ุงูุชุญ ุชุทุจูู ุงูุณุงุฆู
2. ูุจูู ุทูุจ
3. **ุชุญูู ูู:**
   - ุฑุณูู ุงูุชูุตูู ูุญููุธุฉ ุตุญูุญ
   - ุนูููุฉ ุงูุณุงุฆู = deliveryFee ร 0.7

---

## 5. ูุงุฆูุฉ ุงูุชุญูู ุงูููุงุฆูุฉ

ูุจู ุงูุฅุทูุงู ุงููุนูู:

- [ ] ุชุซุจูุช Dependencies ุจุฏูู ุฃุฎุทุงุก
- [ ] Migration ุชู ุจุฏูู ุฃุฎุทุงุก
- [ ] TypeScript check ุจุฏูู ุฃุฎุทุงุก
- [ ] ุงูุจูุงุก (build) ุจุฏูู ุฃุฎุทุงุก
- [ ] ุงุฎุชุจุงุฑ ุงูุฅุนุฏุงุฏุงุช ุงูุฃุณุงุณูุฉ
- [ ] ุงุฎุชุจุงุฑ ุงูุญุณุงุจ ูู ุงูุนููู
- [ ] ุงุฎุชุจุงุฑ ุงูููุงุทู ุงูุฌุบุฑุงููุฉ
- [ ] ุงุฎุชุจุงุฑ ุงูููุงุนุณ ุงูุฏููุงููููุฉ
- [ ] ุงุฎุชุจุงุฑ ุงูุฎุตููุงุช
- [ ] ุงุฎุชุจุงุฑ ุงูููุงุทู ุจุงููุณุงูุงุช
- [ ] ุงุฎุชุจุงุฑ ุนุฑุถ ุงูุทูุจ ูู ุงูุณุงุฆู
- [ ] ูุญุต ุงูุณุฌูุงุช (Logs) ุจุฏูู ุฃุฎุทุงุก
- [ ] ูุฑุงุฌุนุฉ ูุงุนุฏุฉ ุงูุจูุงูุงุช

---

## 6. ูุนุงูุฌุฉ ุงููุดุงูู ุงูุดุงุฆุนุฉ

### ุงููุดููุฉ: npm install ุฃุฎุฐ ููุชุงู ุทูููุงู
**ุงูุญู:**
```bash
npm cache clean --force
npm install
```

### ุงููุดููุฉ: Migration ูุดู
**ุงูุญู:**
```bash
npm run db:reset
npm run db:push
```

### ุงููุดููุฉ: ุงูุฑุณูู ุชุธูุฑ 0.00
**ุงูุญู:**
1. ุชุญูู ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช:
   ```sql
   SELECT * FROM delivery_fee_settings;
   ```

2. ุชุญูู ูู ุงูุณุฌูุงุช ูู ุงูุณูุฑูุฑ
   - ุงุจุญุซ ุนู "Using default delivery fee settings"

3. ุฃุนุฏ ุญูุธ ุงูุฅุนุฏุงุฏุงุช

### ุงููุดููุฉ: ุฎุทุฃ ุนูุฏ ุงูุญูุธ
**ุงูุญู:**
1. ุชุญูู ูู Console ูู ููุญุฉ ุงูุชุญูู (F12)
2. ุชุญูู ูู Network ูู DevTools
3. ุชุฃูุฏ ูู:
   - maxFee > minFee
   - ุฌููุน ุงูุฃุฑูุงู ุตุญูุญุฉ

---

## 7. ูุฑุงูุจุฉ ุงูุฃุฏุงุก

### ุงูุณุฌูุงุช ุงููููุฉ
```bash
# ูู Terminal ุนูุฏ ุชุดุบูู npm run dev
# ุงุจุญุซ ุนู:
# - "Using default delivery fee settings" = ูุดููุฉ ูู ุงูุฅุนุฏุงุฏุงุช
# - "Error calculating delivery fee" = ูุดููุฉ ูู ุงูุญุณุงุจ
# - "Error fetching delivery fee settings" = ูุดููุฉ ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช
```

### ุงูุงุณุชุนูุงูุงุช ุงููููุฏุฉ
```sql
-- ุนุฏุฏ ุงูุทูุจุงุช ูุน ุงูุฑุณูู
SELECT COUNT(*), AVG(delivery_fee) FROM orders;

-- ุงูุทูุจุงุช ุจุฏูู ุฑุณูู (0.00)
SELECT * FROM orders WHERE delivery_fee = 0;

-- ุฃูุซุฑ ุงูููุงุนุณ ุงุณุชุฎุฏุงูุงู
SELECT rule_id, COUNT(*) FROM orders 
WHERE rule_id IS NOT NULL 
GROUP BY rule_id;
```

---

## 8. ุงูุชูุซูู ุงููุฑูู

### ูููุฏูุฑูู:
๐ ุงูุฑุฃ `DELIVERY_FEE_MANAGEMENT_GUIDE.md`
- ููููุฉ ุงุณุชุฎุฏุงู ููุญุฉ ุงูุชุญูู
- ุดุฑุญ ูู ูุณู
- ุฃูุซูุฉ ุนูููุฉ
- ูุตุงุฆุญ ูุญูู
- ุงุณุชูุดุงู ุงูุฃุฎุทุงุก

### ูููุทูุฑูู:
๐ ุงูุฑุฃ `TECHNICAL_INTEGRATION_GUIDE.md`
- ูุนูุงุฑูุฉ ุงููุธุงู
- ุชุณูุณู ุงูุจูุงูุงุช
- ููุงุท API
- ูุงุนุฏุฉ ุงูุจูุงูุงุช
- ุงูุงุฎุชุจุงุฑุงุช

### ููุฎุต ุงูุฅุตูุงุญุงุช:
๐ ุงูุฑุฃ `CHANGES_SUMMARY.md`
- ููุฎุต ุงููุดุงูู ูุงูุญููู
- ุงููููุงุช ุงููุนุฏูุฉ
- ุงููููุงุช ุงูุฌุฏูุฏุฉ
- ุงูุฎุทูุงุช ุงูุชุงููุฉ

---

## 9. ุงูุฏุนู ูุงููุณุงุนุฏุฉ

### ุฅุฐุง ูุงุฌูุช ูุดููุฉ:

1. **ุงุจุญุซ ูู ุงูุชูุซูู:**
   - `DELIVERY_FEE_MANAGEMENT_GUIDE.md` ุงููุณู 9
   - `TECHNICAL_INTEGRATION_GUIDE.md` ุงููุณู 7

2. **ุชุญูู ูู ุงูุณุฌูุงุช:**
   - Terminal ุนูุฏ ุชุดุบูู ุงูุณูุฑูุฑ
   - DevTools ูู ุงููุชุตูุญ

3. **ุงูุชุญูู ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช:**
   ```sql
   SELECT * FROM delivery_fee_settings;
   SELECT * FROM delivery_zones;
   SELECT * FROM delivery_rules;
   SELECT * FROM delivery_discounts;
   ```

4. **ุฅุฐุง ูู ุชุญู ุงููุดููุฉ:**
   - ุงูุฑุฃ ุฑุณุงูุฉ ุงูุฎุทุฃ ุงููุงููุฉ
   - ุงุจุญุซ ูู logs ุงูุณูุฑูุฑ
   - ุชุญูู ูู ุงูุงุชุตุงู ุจูุงุนุฏุฉ ุงูุจูุงูุงุช

---

## 10. ุงูุฌุฏูู ุงูุฒููู ุงูููุตู ุจู

| ุงููููุฉ | ุงูููุช | ุงูุฃููููุฉ |
|-------|--------|---------|
| ุชุซุจูุช Dependencies | 10 ุฏูุงุฆู | โญโญโญ |
| ุชุดุบูู Migration | 5 ุฏูุงุฆู | โญโญโญ |
| ุงุฎุชุจุงุฑ ุงูุฅุนุฏุงุฏุงุช ุงูุฃุณุงุณูุฉ | 10 ุฏูุงุฆู | โญโญโญ |
| ุงุฎุชุจุงุฑ ุญุณุงุจ ุงูุฑุณูู | 15 ุฏูุงุฆู | โญโญโญ |
| ุงุฎุชุจุงุฑ ุงูููุงุนุณ ูุงูุฎุตููุงุช | 20 ุฏูุงุฆู | โญโญ |
| ุงูุงุฎุชุจุงุฑุงุช ุงููุชูุฏูุฉ | 30 ุฏูููุฉ | โญโญ |
| ูุฑุงุฌุนุฉ ูุงุนุฏุฉ ุงูุจูุงูุงุช | 10 ุฏูุงุฆู | โญ |

**ุงูููุช ุงูููู:** ~100 ุฏูููุฉ (ุญูุงูู ุณุงุนุฉ ููุตู)

---

## 11. ุงูุฅุทูุงู ุงููุนูู

### ูุจู ุงูุฅุทูุงู ูุจุงุดุฑุฉ:
1. ุชุฃูุฏ ูู ูุฌุงุญ ุฌููุน ุงูุงุฎุชุจุงุฑุงุช
2. ุงุญูุธ ูุณุฎุฉ ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช
3. ุชุฃูุฏ ูู ุชููุฑ ุฏุนู ููู
4. ุฃุฎุจุฑ ุฌููุน ุงููุณุชุฎุฏููู ุจุงูุชุนุฏููุงุช

### ุจุนุฏ ุงูุฅุทูุงู:
1. ูุฑุงูุจุฉ ุงูุฃุฏุงุก ูุงูุณุฌูุงุช
2. ุงูุงุณุชุฌุงุจุฉ ุงูุณุฑูุนุฉ ูููุดุงูู
3. ุฌูุน ุงูุชุนูููุงุช ูู ุงููุณุชุฎุฏููู
4. ุชุญุฏูุซุงุช ุฅุฐุง ูุฒู ุงูุฃูุฑ

---

## ููุฎุต ุณุฑูุน

```bash
# ุงูุฃูุงูุฑ ุงูุฃุณุงุณูุฉ
npm install              # ุชุซุจูุช
npm run db:push         # ุฅูุดุงุก ุฌุฏุงูู
npm run check           # ุงูุชุญูู
npm run build           # ุงูุจูุงุก
npm run dev             # ุงูุชุดุบูู

# ุงุฎุชุจุงุฑ ูุญุฏุฏ
npm test -- --testNamePattern="delivery-fees"
```

---

**ุชู ุงูุฅูุฌุงุฒ: โ**

ุฌููุน ุงูุฅุตูุงุญุงุช ูุงูุชุญุฏูุซุงุช ุฌุงูุฒุฉ ููุงุณุชุฎุฏุงู!

---

**ุขุฎุฑ ุชุญุฏูุซ: 2026-02-20**
