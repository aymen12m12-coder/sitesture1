# دليل نشر متجر نون (Noon Clone Deployment Guide)

يوضح هذا الدليل كيفية نشر المتجر الإلكتروني، السيرفر، وقاعدة البيانات باستخدام تقنيات سحابية حديثة تضمن الأداء العالي والأمان.

## 1. استضافة قاعدة البيانات (Database Hosting)
بما أننا استخدمنا **Prisma** مع **PostgreSQL**، نوصي باستخدام إحدى المنصات التالية:
- **Neon.tech** (موصى به لـ Next.js): يوفر قاعدة بيانات PostgreSQL سحابية مجانية وسريعة جداً.
- **Supabase**: خيار ممتاز يوفر قاعدة بيانات وإدارة مستخدمين.

**الخطوات:**
1. قم بإنشاء حساب على [Neon.tech](https://neon.tech).
2. أنشئ مشروعاً جديداً واحصل على رابط الاتصال (`Connection String`).
3. أضف الرابط في ملف `.env` تحت متغير `DATABASE_URL`.

## 2. نشر السيرفر والواجهة (Frontend & API)
أفضل منصة لنشر تطبيقات **Next.js** هي **Vercel** لأنها المطور الرسمي للتقنية.

**الخطوات:**
1. ارفع الكود المصدري على **GitHub**.
2. اربط حسابك في **Vercel** بمستودع GitHub الخاص بالمشروع.
3. قم بضبط متغيرات البيئة (Environment Variables) في إعدادات Vercel:
   - `DATABASE_URL`: رابط قاعدة البيانات من الخطوة السابقة.
   - `NEXTAUTH_SECRET`: مفتاح تشفير للجلسات.
4. سيقوم Vercel ببناء المشروع وتوفير رابط (URL) عام للمتجر.

## 3. إعدادات النطاق (Domain Name)
للحصول على تجربة احترافية (مثل `noon.com`):
1. قم بشراء نطاق من مزود مثل **GoDaddy** أو **Namecheap**.
2. في لوحة تحكم Vercel، انتقل إلى **Settings > Domains**.
3. أضف النطاق الخاص بك واتبع تعليمات ضبط سجلات **DNS** (A record و CNAME).

## 4. الأوامر النهائية للنشر
عند النشر لأول مرة، تأكد من تشغيل الأوامر التالية عبر CI/CD الخاص بالاستضافة:
```bash
# توليد عميل Prisma
npx prisma generate

# دفع تحديثات قاعدة البيانات
npx prisma db push

# بناء المشروع
npm run build
```

## 5. توصيات للأداء (Production Checklist)
- **CDN**: Vercel يوفر CDN تلقائياً لصور المنتجات.
- **Caching**: استخدم `Incremental Static Regeneration (ISR)` في Next.js لتحديث بيانات المنتجات دون إعادة بناء الموقع بالكامل.
- **Monitoring**: استخدم **Sentry** لتتبع الأخطاء البرمجية في بيئة الإنتاج.
